<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>&lt;map&gt; type extension custom element</title>
    <script src="bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
    <link rel="import" href="mapml-map.html">
    <style>
      map {
        height: 350px;
        width: 640px;
      }
      .transparency {
        opacity: 0.2;
      }
    </style>
  </head>
  <body>
    <div>
      <p>Want to help improve the &lt;map&gt; element? Join the <a href="https://www.w3.org/community/maps4html/">Maps For HTML Community Group</a>, and <a href="mailto:public-maps4html@w3.org">send us your comments</a>.</p>
      <p>The first map below has no declared projection, and therefore has the default 'Web Mercator'-based coordinate reference system called 'OSMTILE' in MapML:</p>
      <pre>
&lt;map zoom="17" lat="45.398043" lon="-75.70683" is="mapml-map">
  &lt;source src="http://geogratis.gc.ca/mapml/osm/" label="Open Street Map" is="mapml-layer">
  &lt;source src="http://geogratis.gc.ca/mapml/cbmt/" label="Canada Base Map" is="mapml-layer">
  &lt;source src="http://geogratis.gc.ca/mapml/canvec/50k/features/"  label="CanVec+ 031G" class="transparency" is="mapml-layer">
&lt;/map>
      </pre>
      <p>Although the "Canada Base Map" layer referenced shares the OSMTILE projection, the service does not serve the zoom level at which the map initially loads, 
        and therefore it is initially disabled  in the layer control.  Zooming out a few levels should result in the Canada Base Map layer being available/enabled.
        The "CanVec+ 031G" layer has the "WGS84" projection, which is a kind of 'wildcard' coordinate reference system that can be overlayed on any projected 
        coordinate reference system known to MapML.  It is initially available/enabled in the layer control because it overlaps the map element's extent and initial zoom level.  
        If you pan the map (too far) or zoom out a few levels, it too should be disabled automatically. 
       
      </p>
      <map is="mapml-map" zoom="17" lat="45.398043" lon="-75.70683">
        <source is="mapml-layer" src="http://geogratis.gc.ca/mapml/osm/" label="Open Street Map" checked>
        <source is="mapml-layer" label="Canada Base Map" src="http://geogratis.gc.ca/mapml/cbmt/">
        <source is="mapml-layer" label="CanVec+ 031G" src="http://geogratis.gc.ca/mapml/canvec/50k/features/" class="transparency">
      </map>
      <p>The layers have an inherent projection that is unknown to the client until the URL is fetched.  When the MapML response is parsed, the code enables/disables the layer in the 
      layer control checkbox based on whether the layer shares the projection of the map element, and is visible i.e. within the zoom and bounds of the map.</p>
      <p>The next map declares the 'CBMTILE' projection, which is a coordinate reference system in the Lambert Conformal Conic projection in MapML.  The Open Street Map layer is
      in the Web Mercator (OSMTILE) projection, and is therefore disable/unavailable.</p>
      <pre>
&lt;map zoom="17" lat="45.398043" lon="-75.70683" projection="CBMTILE"  is="mapml-map">
  &lt;source src="http://geogratis.gc.ca/mapml/osm/" label="Open Street Map" is="mapml-layer">
  &lt;source src="http://geogratis.gc.ca/mapml/cbmtlcc/" label="Canada Base Map" is="mapml-layer">
  &lt;source src="http://geogratis.gc.ca/mapml/canvec/50k/features/" label="CanVec+ 031G" class="transparency" is="mapml-layer">
&lt;/map>
      </pre>
      <map is="mapml-map" zoom="17" lat="45.398043" lon="-75.70683"  projection="CBMTILE">
        <source is="mapml-layer" label="Open Street Map" src="http://geogratis.gc.ca/mapml/osm/" checked>
        <source is="mapml-layer" label="Canada Base Map" src="http://geogratis.gc.ca/mapml/cbmtlcc/" checked>
        <source is="mapml-layer" label="CanVec+ 031G" src="http://geogratis.gc.ca/mapml/canvec/50k/features/" class="transparency">
      </map>
      <p>The following Arctic Ocean Base Map uses the 'APSTILE' projection, which is a coordinate reference system based on the Polar Stereographic projection in MapML:</p>
      <pre>
&lt;map zoom="3" lat="90.0" lon="0.0" projection="APSTILE" is="mapml-map">
  &lt;source src="http://geogratis.gc.ca/mapml/arctic/" label="Arctic Ocean Base Map" is="mapml-layer">
&lt;/map>
      </pre>
      <map is="mapml-map" zoom="3" lat="90.0" lon="0.0" projection="APSTILE">
        <source  is="mapml-layer" label="Arctic Ocean Base Map" src="http://geogratis.gc.ca/mapml/arctic/" checked>
      </map>
      <p>The Arctic Ocean Base Map Terms of Use are available from <a href="http://www.arcgis.com/home/item.html?id=305cb48615d743f89fe70ff3a819e59e">ArcGIS.com</a></p>
    </div>
  </body>
</html>
